import{U as R,w as T,i as ee,k as ne,m as re,s as te,y as F,A as ae,v as le,S,C as se,E as V,I as Y,J as D,T as fe,L as K,N as L,O as ie,P as ue,R as W,a0 as Z,a1 as X,a2 as j,a3 as oe,a4 as G,a5 as ve,a6 as de,a7 as pe,a8 as xe,a9 as ce,aa as z,ab as H,ac as he,ad as ge}from"./khao-ui-svelte-dispatchRemoteControlEvent-4.15.1.js";function ye(a,e){return e}function me(a,e,n,i){for(var o=[],v=e.length,u=0;u<v;u++)ve(e[u].e,o,!0);var c=v>0&&o.length===0&&n!==null;if(c){var m=n.parentNode;de(m),m.append(n),i.clear(),b(a,e[0].prev,e[v-1].next)}pe(o,()=>{for(var w=0;w<v;w++){var d=e[w];c||(i.delete(d.k),b(a,d.prev,d.next)),xe(d.e,!c)}})}function be(a,e,n,i,o,v=null){var u=a,c={flags:e,items:new Map,first:null},m=(e&H)!==0;if(m){var w=a;u=T?R(ee(w)):w.appendChild(ne())}T&&re();var d=null,k=!1,C=te(()=>{var p=n();return ae(p)?p:p==null?[]:F(p)});le(()=>{var p=S(C),l=p.length;if(k&&l===0)return;k=l===0;let q=!1;if(T){var t=u.data===se;t!==(l===0)&&(u=V(),R(u),Y(!1),q=!0)}if(T){for(var h=null,f,g=0;g<l;g++){if(D.nodeType===8&&D.data===fe){u=D,q=!0,Y(!1);break}var x=p[g],$=i(x,g);f=N(D,c,h,null,x,$,g,o,e,n),c.items.set($,f),h=f}l>0&&R(V())}T||we(p,c,u,o,e,i,n),v!==null&&(l===0?d?K(d):d=L(()=>v(u)):d!==null&&ie(d,()=>{d=null})),q&&Y(!0),S(C)}),T&&(u=D)}function we(a,e,n,i,o,v,u){var c,m,w,d,k=(o&he)!==0,C=(o&(j|G))!==0,p=a.length,l=e.items,q=e.first,t=q,h,f=null,g,x=[],$=[],U,O,r,s;if(k)for(s=0;s<p;s+=1)U=a[s],O=v(U,s),r=l.get(O),r!==void 0&&((c=r.a)==null||c.measure(),(g??(g=new Set)).add(r));for(s=0;s<p;s+=1){if(U=a[s],O=v(U,s),r=l.get(O),r===void 0){var _=t?t.e.nodes_start:n;f=N(_,e,f,f===null?e.first:f.next,U,O,s,i,o,u),l.set(O,f),x=[],$=[],t=f.next;continue}if(C&&$e(r,U,s,o),(r.e.f&Z)!==0&&(K(r.e),k&&((m=r.a)==null||m.unfix(),(g??(g=new Set)).delete(r))),r!==t){if(h!==void 0&&h.has(r)){if(x.length<$.length){var E=$[0],y;f=E.prev;var M=x[0],J=x[x.length-1];for(y=0;y<x.length;y+=1)B(x[y],E,n);for(y=0;y<$.length;y+=1)h.delete($[y]);b(e,M.prev,J.next),b(e,f,M),b(e,J,E),t=E,f=J,s-=1,x=[],$=[]}else h.delete(r),B(r,t,n),b(e,r.prev,r.next),b(e,r,f===null?e.first:f.next),b(e,f,r),f=r;continue}for(x=[],$=[];t!==null&&t.k!==O;)(t.e.f&Z)===0&&(h??(h=new Set)).add(t),$.push(t),t=t.next;if(t===null)continue;r=t}x.push(r),f=r,t=r.next}if(t!==null||h!==void 0){for(var A=h===void 0?[]:F(h);t!==null;)(t.e.f&Z)===0&&A.push(t),t=t.next;var P=A.length;if(P>0){var I=(o&H)!==0&&p===0?n:null;if(k){for(s=0;s<P;s+=1)(w=A[s].a)==null||w.measure();for(s=0;s<P;s+=1)(d=A[s].a)==null||d.fix()}me(e,A,I,l)}}k&&ce(()=>{var Q;if(g!==void 0)for(r of g)(Q=r.a)==null||Q.apply()}),X.first=e.first&&e.first.e,X.last=f&&f.e}function $e(a,e,n,i){(i&j)!==0&&z(a.v,e),(i&G)!==0?z(a.i,n):a.i=n}function N(a,e,n,i,o,v,u,c,m,w){var d=(m&j)!==0,k=(m&oe)===0,C=d?k?ue(o):W(o):o,p=(m&G)===0?u:W(u),l={i:p,v:C,k:v,a:null,e:null,prev:n,next:i};try{return l.e=L(()=>c(a,C,p,w),T),l.e.prev=n&&n.e,l.e.next=i&&i.e,n===null?e.first=l:(n.next=l,n.e.next=l.e),i!==null&&(i.prev=l,i.e.prev=l.e),l}finally{}}function B(a,e,n){for(var i=a.next?a.next.e.nodes_start:n,o=e?e.e.nodes_start:n,v=a.e.nodes_start;v!==i;){var u=ge(v);o.before(v),v=u}}function b(a,e,n){e===null?a.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}export{be as C,ye as m};
