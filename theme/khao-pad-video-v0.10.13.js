import{B as X,M as _,v as j,J as g,$ as q,g as G,D as x,w as z,H,X as d,A as m,W as I,K as $,i as b,c as S,L as O,N as J,R as T,k as Q,P as B,o as E,E as U,e as F,S as L,C as V,f as Y}from"./svelte-chunk-DfnyCMNC.js";import{M as Z}from"./khao-ui-image-4.0.10.js";import{S as tt}from"./khao-ui-icon-4.0.10.js";function et(a){G(a,"svelte-ne2o5l",`:host{--khao-video-consent-color:var(--khao-sys-color-neutral80);--khao-video-consent-background:var(--khao-sys-static-color-black);--khao-video-consent-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-color:var(--khao-sys-color-neutral30);--khao-video-caption-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-font-style:italic;--khao-video-caption-spacing:var(--khao-sys-size-regular-1)}.video-wrapper.svelte-ne2o5l{max-width:var(--khao-video-width);max-height:var(--khao-video-height)}.preview-wrapper.svelte-ne2o5l{position:relative;display:block;background-color:var(--khao-sys-static-color-black)}.preview-wrapper.svelte-ne2o5l:focus-visible{outline:var(--khao-sys-size-regular-1) solid var(--khao-sys-color-tertiary);outline-offset:var(--khao-sys-size-regular-5);border-radius:var(--khao-sys-shape-corner-medium)}.preview-icon.svelte-ne2o5l{position:absolute;color:var(--khao-sys-static-color-white);top:50%;left:50%;opacity:0.9;margin:calc(var(--khao-sys-size-regular-10) * -1) 0 0
      calc(var(--khao-sys-size-regular-10) * -1);width:var(--khao-sys-size-regular-18);height:var(--khao-sys-size-regular-18)}.consent-text.svelte-ne2o5l{position:absolute;bottom:0;left:0;padding:var(--khao-sys-size-regular-4);background:var(--khao-video-consent-background);color:var(--khao-video-consent-color);font-size:var(--khao-video-consent-font-size);line-height:var(--khao-video-caption-line-height);text-align:center}.video-wrapper.svelte-ne2o5l{display:block;margin:0 auto}.video-frame.svelte-ne2o5l{margin:0;width:100%;height:auto;aspect-ratio:4/3}.caption.svelte-ne2o5l{padding-top:var(--khao-video-caption-spacing);text-align:center;font-size:var(--khao-video-caption-font-size);line-height:var(--khao-video-caption-line-height);font-style:var(--khao-video-caption-font-style);color:var(--khao-video-caption-color)}`)}function P(a){let t,e,c,n,v,p,i,r,s,l,k,w;return e=new Z({props:{src:a[5],title:a[2],width:a[6],height:a[7],webp:"true",lazyLoading:"true"}}),r=new tt({props:{iconName:"youtube",sizeFactor:"20"}}),{c(){t=x("a"),B(e.$$.fragment),c=z(),n=x("div"),v=H(a[4]),p=z(),i=x("div"),B(r.$$.fragment),d(n,"class","consent-text svelte-ne2o5l"),d(i,"class","preview-icon svelte-ne2o5l"),d(t,"class","preview-wrapper svelte-ne2o5l"),d(t,"href",s=a[0]==="youtube"?`https://youtu.be/${a[1]}`:""),d(t,"target","_blank")},m(h,u){I(h,t,u),E(e,t,null),$(t,c),$(t,n),$(n,v),$(t,p),$(t,i),E(r,i,null),l=!0,k||(w=U(t,"click",a[12]),k=!0)},p(h,u){const y={};u&32&&(y.src=h[5]),u&4&&(y.title=h[2]),u&64&&(y.width=h[6]),u&128&&(y.height=h[7]),e.$set(y),(!l||u&16)&&J(v,h[4]),(!l||u&3&&s!==(s=h[0]==="youtube"?`https://youtu.be/${h[1]}`:""))&&d(t,"href",s)},i(h){l||(b(e.$$.fragment,h),b(r.$$.fragment,h),l=!0)},o(h){S(e.$$.fragment,h),S(r.$$.fragment,h),l=!1},d(h){h&&T(t),F(e),F(r),k=!1,w()}}}function D(a){let t,e;return{c(){t=x("iframe"),d(t,"class","video-frame svelte-ne2o5l"),m(t,"max-width",a[6]+"px"),d(t,"title",a[2]),L(t.src,e=a[11])||d(t,"src",e),d(t,"frameborder","0"),d(t,"allow",`accelerometer; autoplay; 
encrypted-media; gyroscope; picture-in-picture`),t.allowFullscreen=!0},m(c,n){I(c,t,n)},p(c,n){n&64&&m(t,"max-width",c[6]+"px"),n&4&&d(t,"title",c[2]),n&2048&&!L(t.src,e=c[11])&&d(t,"src",e)},d(c){c&&T(t)}}}function ot(a){let t,e,c,n,v,p,i=(a[8]||a[11]==="")&&P(a),r=a[9]&&a[11]!==""&&D(a);return{c(){t=x("div"),i&&i.c(),e=z(),r&&r.c(),c=z(),n=x("div"),v=H(a[3]),d(n,"class","caption svelte-ne2o5l"),d(t,"class","video-wrapper svelte-ne2o5l"),m(t,"--khao-video-width",a[6]+"px"),m(t,"--khao-video-height",a[7]+"px")},m(s,l){I(s,t,l),i&&i.m(t,null),$(t,e),r&&r.m(t,null),$(t,c),$(t,n),$(n,v),a[16](n),p=!0},p(s,[l]){s[8]||s[11]===""?i?(i.p(s,l),l&2304&&b(i,1)):(i=P(s),i.c(),b(i,1),i.m(t,e)):i&&(V(),S(i,1,1,()=>{i=null}),O()),s[9]&&s[11]!==""?r?r.p(s,l):(r=D(s),r.c(),r.m(t,c)):r&&(r.d(1),r=null),(!p||l&8)&&J(v,s[3]),(!p||l&64)&&m(t,"--khao-video-width",s[6]+"px"),(!p||l&128)&&m(t,"--khao-video-height",s[7]+"px")},i(s){p||(b(i),p=!0)},o(s){S(i),p=!1},d(s){s&&T(t),i&&i.d(),r&&r.d(),a[16](null)}}}function at(a,t,e){let c=!1,n=!1,v;Q(()=>{w==="true"?e(8,c=!0):e(9,n=!0)});let{type:p="youtube"}=t,{videoId:i=""}=t,{autoplay:r="false"}=t,{start:s=""}=t,{title:l=""}=t,{caption:k=""}=t,{awaitsConsent:w="false"}=t,{consentText:h=""}=t,{previewSrc:u=""}=t,{width:y="600"}=t,{height:M="450"}=t,f="";function C(o,N,W,A){N===""?e(11,f=""):(e(11,f=o==="youtube"?`https://www.youtube-nocookie.com/embed/${N}?modestbranding=1`:""),o==="youtube"&&W==="true"&&e(11,f+="&autoplay=1"),o==="youtube"&&A!==""&&e(11,f+=`&start=${A}`),console.log("Video Url changed to",f))}C(p,i,r,s);function K(o){o.stopPropagation(),o.preventDefault(),e(8,c=!1),e(9,n=!0),C(p,i,r,s)}function R(o){Y[o?"unshift":"push"](()=>{v=o,e(10,v)})}return a.$$set=o=>{"type"in o&&e(0,p=o.type),"videoId"in o&&e(1,i=o.videoId),"autoplay"in o&&e(13,r=o.autoplay),"start"in o&&e(14,s=o.start),"title"in o&&e(2,l=o.title),"caption"in o&&e(3,k=o.caption),"awaitsConsent"in o&&e(15,w=o.awaitsConsent),"consentText"in o&&e(4,h=o.consentText),"previewSrc"in o&&e(5,u=o.previewSrc),"width"in o&&e(6,y=o.width),"height"in o&&e(7,M=o.height)},a.$$.update=()=>{a.$$.dirty&24579&&i&&C(p,i,r,s)},[p,i,l,k,h,u,y,M,c,n,v,f,K,r,s,w,R]}class it extends _{constructor(t){super(),j(this,t,at,ot,q,{type:0,videoId:1,autoplay:13,start:14,title:2,caption:3,awaitsConsent:15,consentText:4,previewSrc:5,width:6,height:7},et)}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),g()}get videoId(){return this.$$.ctx[1]}set videoId(t){this.$$set({videoId:t}),g()}get autoplay(){return this.$$.ctx[13]}set autoplay(t){this.$$set({autoplay:t}),g()}get start(){return this.$$.ctx[14]}set start(t){this.$$set({start:t}),g()}get title(){return this.$$.ctx[2]}set title(t){this.$$set({title:t}),g()}get caption(){return this.$$.ctx[3]}set caption(t){this.$$set({caption:t}),g()}get awaitsConsent(){return this.$$.ctx[15]}set awaitsConsent(t){this.$$set({awaitsConsent:t}),g()}get consentText(){return this.$$.ctx[4]}set consentText(t){this.$$set({consentText:t}),g()}get previewSrc(){return this.$$.ctx[5]}set previewSrc(t){this.$$set({previewSrc:t}),g()}get width(){return this.$$.ctx[6]}set width(t){this.$$set({width:t}),g()}get height(){return this.$$.ctx[7]}set height(t){this.$$set({height:t}),g()}}customElements.define("khao-video",X(it,{type:{},videoId:{reflect:!0,type:"String",attribute:"videoId"},autoplay:{},start:{},title:{},caption:{},awaitsConsent:{},consentText:{},previewSrc:{},width:{},height:{}},[],[],!0));
