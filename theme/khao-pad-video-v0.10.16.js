import{B as W,M as X,v as _,J as g,$ as j,g as q,D as x,w as z,H as O,X as v,A as f,W as I,K as y,i as b,c as S,L as G,N as H,R as T,k as Q,P as B,o as E,E as U,e as F,S as L,C as V,f as Y}from"./svelte-chunk-DfnyCMNC.js";import{M as Z}from"./khao-ui-image-4.0.18.js";import{O as tt}from"./khao-ui-icon-4.0.18.js";function et(o){q(o,"svelte-m1t97m",`:host{--khao-video-consent-color:var(--khao-sys-color-neutral80);--khao-video-consent-background:var(--khao-sys-static-color-black);--khao-video-consent-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-color:var(--khao-sys-color-neutral30);--khao-video-caption-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-font-style:italic;--khao-video-caption-spacing:var(--khao-sys-size-regular-1)}.video-wrapper.svelte-m1t97m{max-width:var(--khao-video-width);max-height:var(--khao-video-height);--khao-image-filter:opacity(50%)}.preview-wrapper.svelte-m1t97m{position:relative;display:block;background-color:var(--khao-sys-static-color-black)}.preview-wrapper.svelte-m1t97m:focus-visible{outline:var(--khao-sys-size-regular-1) solid var(--khao-sys-color-tertiary);outline-offset:var(--khao-sys-size-regular-5);border-radius:var(--khao-sys-shape-corner-medium)}.preview-icon.svelte-m1t97m{position:absolute;color:var(--khao-sys-static-color-white);top:50%;left:50%;opacity:0.9;margin:calc(var(--khao-sys-size-regular-10) * -1) 0 0
      calc(var(--khao-sys-size-regular-10) * -1);width:var(--khao-sys-size-regular-18);height:var(--khao-sys-size-regular-18)}.consent-text.svelte-m1t97m{position:absolute;bottom:0;left:0;padding:var(--khao-sys-size-regular-4);background:var(--khao-video-consent-background);color:var(--khao-video-consent-color);font-size:var(--khao-video-consent-font-size);line-height:var(--khao-video-caption-line-height);text-align:center}.video-wrapper.svelte-m1t97m{display:block;margin:0 auto}.video-frame.svelte-m1t97m{margin:0;width:100%;height:auto;aspect-ratio:4/3}.caption.svelte-m1t97m{padding-top:var(--khao-video-caption-spacing);text-align:center;font-size:var(--khao-video-caption-font-size);line-height:var(--khao-video-caption-line-height);font-style:var(--khao-video-caption-font-style);color:var(--khao-video-caption-color)}`)}function P(o){let t,e,c,n,d,p,i,r,s,l,m,k;return e=new Z({props:{src:o[5],title:o[2],width:o[6],height:o[7],webp:"true",lazyLoading:"true"}}),r=new tt({props:{iconName:"youtube",sizeFactor:"20"}}),{c(){t=x("a"),B(e.$$.fragment),c=z(),n=x("div"),d=O(o[4]),p=z(),i=x("div"),B(r.$$.fragment),v(n,"class","consent-text svelte-m1t97m"),v(i,"class","preview-icon svelte-m1t97m"),v(t,"class","preview-wrapper svelte-m1t97m"),v(t,"href",s=o[0]==="youtube"?`https://youtu.be/${o[1]}`:""),v(t,"target","_blank")},m(h,u){I(h,t,u),E(e,t,null),y(t,c),y(t,n),y(n,d),y(t,p),y(t,i),E(r,i,null),l=!0,m||(k=U(t,"click",o[12]),m=!0)},p(h,u){const $={};u&32&&($.src=h[5]),u&4&&($.title=h[2]),u&64&&($.width=h[6]),u&128&&($.height=h[7]),e.$set($),(!l||u&16)&&H(d,h[4]),(!l||u&3&&s!==(s=h[0]==="youtube"?`https://youtu.be/${h[1]}`:""))&&v(t,"href",s)},i(h){l||(b(e.$$.fragment,h),b(r.$$.fragment,h),l=!0)},o(h){S(e.$$.fragment,h),S(r.$$.fragment,h),l=!1},d(h){h&&T(t),F(e),F(r),m=!1,k()}}}function D(o){let t,e;return{c(){t=x("iframe"),v(t,"class","video-frame svelte-m1t97m"),f(t,"max-width",o[6]+"px"),v(t,"title",o[2]),L(t.src,e=o[11])||v(t,"src",e),v(t,"frameborder","0"),v(t,"allow",`accelerometer; autoplay; 
encrypted-media; gyroscope; picture-in-picture`),t.allowFullscreen=!0},m(c,n){I(c,t,n)},p(c,n){n&64&&f(t,"max-width",c[6]+"px"),n&4&&v(t,"title",c[2]),n&2048&&!L(t.src,e=c[11])&&v(t,"src",e)},d(c){c&&T(t)}}}function at(o){let t,e,c,n,d,p,i=(o[8]||o[11]==="")&&P(o),r=o[9]&&o[11]!==""&&D(o);return{c(){t=x("div"),i&&i.c(),e=z(),r&&r.c(),c=z(),n=x("div"),d=O(o[3]),v(n,"class","caption svelte-m1t97m"),v(t,"class","video-wrapper svelte-m1t97m"),f(t,"--khao-video-width",o[6]+"px"),f(t,"--khao-video-height",o[7]+"px")},m(s,l){I(s,t,l),i&&i.m(t,null),y(t,e),r&&r.m(t,null),y(t,c),y(t,n),y(n,d),o[16](n),p=!0},p(s,[l]){s[8]||s[11]===""?i?(i.p(s,l),l&2304&&b(i,1)):(i=P(s),i.c(),b(i,1),i.m(t,e)):i&&(V(),S(i,1,1,()=>{i=null}),G()),s[9]&&s[11]!==""?r?r.p(s,l):(r=D(s),r.c(),r.m(t,c)):r&&(r.d(1),r=null),(!p||l&8)&&H(d,s[3]),(!p||l&64)&&f(t,"--khao-video-width",s[6]+"px"),(!p||l&128)&&f(t,"--khao-video-height",s[7]+"px")},i(s){p||(b(i),p=!0)},o(s){S(i),p=!1},d(s){s&&T(t),i&&i.d(),r&&r.d(),o[16](null)}}}function ot(o,t,e){let c=!1,n=!1,d;Q(()=>{k==="true"?e(8,c=!0):e(9,n=!0)});let{type:p="youtube"}=t,{videoId:i=""}=t,{autoplay:r="false"}=t,{start:s=""}=t,{title:l=""}=t,{caption:m=""}=t,{awaitsConsent:k="false"}=t,{consentText:h=""}=t,{previewSrc:u=""}=t,{width:$="600"}=t,{height:M="450"}=t,w="";function C(a,N,R,A){N===""?e(11,w=""):(e(11,w=a==="youtube"?`https://www.youtube-nocookie.com/embed/${N}?modestbranding=1`:""),a==="youtube"&&R==="true"&&e(11,w+="&autoplay=1"),a==="youtube"&&A!==""&&e(11,w+=`&start=${A}`),console.log("Video Url changed to",w))}C(p,i,r,s);function J(a){a.stopPropagation(),a.preventDefault(),e(8,c=!1),e(9,n=!0),C(p,i,r,s)}function K(a){Y[a?"unshift":"push"](()=>{d=a,e(10,d)})}return o.$$set=a=>{"type"in a&&e(0,p=a.type),"videoId"in a&&e(1,i=a.videoId),"autoplay"in a&&e(13,r=a.autoplay),"start"in a&&e(14,s=a.start),"title"in a&&e(2,l=a.title),"caption"in a&&e(3,m=a.caption),"awaitsConsent"in a&&e(15,k=a.awaitsConsent),"consentText"in a&&e(4,h=a.consentText),"previewSrc"in a&&e(5,u=a.previewSrc),"width"in a&&e(6,$=a.width),"height"in a&&e(7,M=a.height)},o.$$.update=()=>{o.$$.dirty&24579&&i&&C(p,i,r,s)},[p,i,l,m,h,u,$,M,c,n,d,w,J,r,s,k,K]}class it extends X{constructor(t){super(),_(this,t,ot,at,j,{type:0,videoId:1,autoplay:13,start:14,title:2,caption:3,awaitsConsent:15,consentText:4,previewSrc:5,width:6,height:7},et)}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),g()}get videoId(){return this.$$.ctx[1]}set videoId(t){this.$$set({videoId:t}),g()}get autoplay(){return this.$$.ctx[13]}set autoplay(t){this.$$set({autoplay:t}),g()}get start(){return this.$$.ctx[14]}set start(t){this.$$set({start:t}),g()}get title(){return this.$$.ctx[2]}set title(t){this.$$set({title:t}),g()}get caption(){return this.$$.ctx[3]}set caption(t){this.$$set({caption:t}),g()}get awaitsConsent(){return this.$$.ctx[15]}set awaitsConsent(t){this.$$set({awaitsConsent:t}),g()}get consentText(){return this.$$.ctx[4]}set consentText(t){this.$$set({consentText:t}),g()}get previewSrc(){return this.$$.ctx[5]}set previewSrc(t){this.$$set({previewSrc:t}),g()}get width(){return this.$$.ctx[6]}set width(t){this.$$set({width:t}),g()}get height(){return this.$$.ctx[7]}set height(t){this.$$set({height:t}),g()}}customElements.define("khao-video",W(it,{type:{},videoId:{reflect:!0,type:"String",attribute:"videoId"},autoplay:{},start:{},title:{},caption:{},awaitsConsent:{},consentText:{},previewSrc:{},width:{},height:{}},[],[],!0));
