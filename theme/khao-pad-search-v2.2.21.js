import"./modulepreload-polyfill.js";const $=()=>{let e={};const t=document.getElementById("search-config");if(t&&t.textContent)try{e=JSON.parse(t.textContent)}catch(s){console.error("Error parsing params",s)}return e},At="asialäden",yt="banôi",kt="bittergurke",Et="bombay",Ct="brokkoli",Mt="myanmar",wt="kokosnuss",Ft="curry",Dt="süßspeise",Bt="enoki",xt="larb ped",St="fak thong",bt="fak thong",_t="hackfleisch",$t="krachai",It="fischsoße",Lt="fischsoße",Rt="bohnen",vt="hotpot",jt="garnelen",Ot="ga prau",Nt="gaeng",Tt="gochujang",zt="gung",Pt="ga prau",Kt="lao pot",Wt="djau",Ht="djau",Ut="khmer",Qt="kratha",Gt="khai",Yt="khanom",Jt="karlsruhe",Vt="khi mao",Xt="ga prau",Zt="ga prau",qt="ga prau",te="laap",ee="rad na",se="lahpet",ne="laap",re="laap",ae="massaman",ie="massaman",oe="mexikanisch",ce="mie",ue="mie",le="mhu",he="mhu",de="mhu",ge="nam tok",fe="nor mai",pe="nuea",me="aubergin",Ae="or lam",ye="pad thai",ke="pak choi",Ee="pak choi",Ce="palabok",Me="panaeng",we="panaeng",Fe="phed",De="plaa",Be="rad na",xe="rad na",Se="rhein wok",be="soße",_e="sate",$e="shabu",Ie="shakshuka",Le="mungbohnensprosse",Re="som tam",ve="soja",je="tintenfisch",Oe="sichuan",Ne="tao djiau",Te="lahpet",ze="thai-basilikum",Pe="thai-chili",Ke="thaiwiese",We="talee",He="dtun",Ue="wun",Qe="wun sen",Ge="yam",Ye={"asia shop":"asialäden",asiashop:At,banoi:yt,bittermelone:kt,bombai:Et,broccoli:Ct,burma:Mt,coconut:wt,"curry paste":"currypaste",currygericht:Ft,"dad daew":"daet diau","dad deaw":"daet diau",dessert:Dt,enokipilze:Bt,entensalat:xt,"fak tong":"fak thong",faktong:St,fakthong:bt,faschiertes:_t,fingerwurz:$t,fischsauce:It,fishsauce:Lt,fisolen:Rt,fondue:vt,"fried rice":"khao pad","ga prao":"ga prau",gambas:jt,gäng:"gaeng",gaprau:Ot,geang:Nt,"gaeng daeng":"gaeng phed","gaeng jued":"gaeng djued",gefühlte:"gefüllte",gemüsecurry:"curry",gewürzständer:"gewürzkarussel",gochuyang:Tt,goong:zt,"gra pau":"ga prau",grapau:Pt,"hang lay":"hang lea","hot pot":"hotpot",huad:Kt,"hung lay":"hang lea",jaew:Wt,jeaw:Ht,"jim jum":"djim djum",kambodschanisch:Ut,kata:Qt,"ka prao":"ga prau","kai jiao":"khai djiau",kai:Gt,kanom:Yt,"khanom jeeb":"khanom jeeb",karlrsruhe:Jt,"kee mao":"khi mao",keemao:Vt,"kiwi-schäler":"streifenschäler",kiwischäler:"streifenschäler","konjak nudeln":"shirataki","kra pao":"ga prau","kra pau":"ga prau",krapao:Xt,krapau:Zt,krapow:qt,"la lot":"lá lốt",laab:te,ladna:ee,laphet:se,larb:ne,larp:re,masaman:ae,massamann:ie,mexico:oe,"mhu krob":"mhu grob",mee:ce,mii:ue,moo:le,muh:he,muu:de,"nam jim":"nam djim",namtok:ge,normai:fe,nüa:"nuea",nuae:pe,obergin:me,orlam:Ae,padthai:ye,"pak choy":"pak choi",pakchoi:ke,pakchoy:Ee,palabog:Ce,panang:Me,panäng:"panaeng",paneng:we,"papaya salat":"som tam","peking ente":"pekingente",phet:Fe,pla:De,"plaa muk":"plaa muek","plaa mük":"plaa muek","prik gaeng":"krueang gaeng",radna:Be,"rat na":"rad na",ratna:xe,rheinwok:Se,"rice cake":"tteokbokki","sam gleer":"saam sahai","sam gloe":"saam sahai","saam gleer":"saam sahai","saam gloe":"saam sahai",sauce:be,satay:_e,schabu:$e,shakshouka:Ie,sojasprosse:Le,"see ew":"si ju",somtam:Re,soya:ve,squid:je,szechuan:Oe,"tao jiew":"tao djiau",taojiew:Ne,"seua rong":"suea rong",teesalat:Te,"thai park":"thaiwiese",thaibasilikum:ze,thaichili:Pe,thaipark:Ke,thalee:We,"tom kah":"tom kha",toon:He,woon:Ue,woonsen:Qe,"yam nuea sap":"laap nuea",yum:Ge},Je=(e,t)=>{let s=e?e.toLowerCase():"";const n=new RegExp(Object.keys(t).join("|"),"gi");return s=s.replace(n,r=>t[r]),s},Ve=()=>{const e=new Date,t=e.getDate(),s=e.getMonth()+1;return`${e.getFullYear()}-${s}-${t}`},Xe=()=>!!window.navigator.userAgent.match(/iPad|iPhone/i),Ze=(e,t)=>{let s="";return e&&t&&(s=`<div class="summary-item">
        ${e}${t}
        </div>`),s},qe=(e,t,s)=>`<div class="summary-content">
    ${e}${t}${s}
    </div>`,ts=()=>'<khao-content-with-icon iconName="person" iconSizeFactor="5" iconOpacity="50%"><khao-link priority="secondary" href="/info/ueber-mich/">Jens</khao-link></khao-content-with-icon>',es="01.01.0001",ss=e=>`<khao-content-with-icon
        iconName="date-time"
        iconSizeFactor="5"
        iconOpacity="50%"
    ><time datetime="">${e!==es?e:"05.01.2021"}</time></khao-content-with-icon>`,ns={url:"/wissenswertes/",display:"Wissenswertes"},rs={url:"/insirationen/",display:"Inspirationen"},as={url:"/reisen/",display:"Reisen"},is={url:"/restaurants/",display:"Restaurants"},os={url:"/rezepte/",display:"Rezepte"},cs={url:"/zubehoer/",display:"Zubehör"},us={url:"/zutaten/",display:"Zutaten"},ls={wis:ns,ins:rs,rei:as,res:is,rez:os,zub:cs,zut:us},hs={url:"/en/recipes/",display:"Recipes"},ds={rec:hs},J=()=>{const e=window.location.pathname;return e&&e!==""&&e.startsWith("/en/")?"en":"de"},gs=(e,t)=>{let s={url:"",display:""};return t&&t.hasOwnProperty(e)&&(s=t[e]),s},fs=e=>{let t="";if(e){const n=J()==="de"?ls:ds,r=gs(e.toLowerCase(),n);r.url!==""&&r.display!==""&&(t=`<khao-content-with-icon iconName="folder" iconSizeFactor="5" iconOpacity="50%"><khao-link href="${r.url}" rel="category" title="Kategorie ${r.display}" priority="secondary">${r.display}</khao-link>
                    </khao-content-with-icon>`)}return t},ps=e=>`<khao-content-with-icon
        iconName="noodle-soup"
        iconSizeFactor="5"
        iconOpacity="50%"
    ><time datetime="">${e}</time></khao-content-with-icon>`,ms={url:"/regions/nordthailand/",display:"Nordthailand"},As={url:"/regions/nordostthailand/",display:"Nordostthailand"},ys={url:"/regions/zentralthailand/",display:"Zentralthailand"},ks={url:"/regions/suedthailand/",display:"Südthailand"},Es={n:ms,i:As,z:ys,s:ks},Cs={url:"/en/regions/northern-thailand/",display:"Northern Thailand"},Ms={url:"/en/regions/northeast-thailand/",display:"Northteast Thailand"},ws={url:"/en/regions/central-thailand/",display:"Central Thailand"},Fs={url:"/en/regions/southern-thailand/",display:"Southern Thailand"},Ds={n:Cs,i:Ms,c:ws,s:Fs},Bs=(e,t)=>{let s={url:"",display:""};return t&&t.hasOwnProperty(e)&&(s=t[e]),s},xs=e=>{let t="";const n=J()==="de"?Es:Ds;if(e){const r=Bs(e.toLowerCase(),n);r.url!==""&&r.display!==""&&(t=`<khao-content-with-icon iconName="map" iconSizeFactor="5" iconOpacity="50%"><khao-link href="${r.url}" rel="category" title="Region ${r.display}" priority="secondary">${r.display}</khao-link>
                    </khao-content-with-icon>`)}return t},Ss=(e,t,s,n,r,a,i)=>`<header class="summary-header">    
    <h2 class="summary-title">
    <a href="${t}">${e}</a>
    </h2>
    <div class="summary-meta">
         ${s?ts():""}
         ${n?ss(n):""}
         ${r?fs(r):""}
         ${a?ps(a):""}
         ${i?xs(i):""}
    </div>
    </header>`,V=(e,t=!1)=>{let s="";return e&&(s=`<div class="centered-flex-col centered-text ${t?"search__no-results":""}">${e}</div>`),s},bs=e=>{let t="";return e&&(t=`<div class="summary-excerpt">${e}</div>`),t};function _s(e){return e==="work-and-wok"?"Work 'n' Wok":(e=e.replace(/-/g," "),e=e.replace(/_/g," "),e.split(" ").map(s=>s.length===0?"":s[0].toUpperCase()+s.slice(1).toLowerCase()).join(" "))}function $s(e){return e.replace(/ä/g,"a").replace(/ö/g,"o").replace(/ü/g,"u").replace(/&/g,"").toLowerCase().replace(/\s+/g,"-")}const Is=e=>{let t="";const n=J()==="de"?"/tags":"/en/tags";if(e){const r=e.split(" ");let a="";r.forEach(i=>{const o=`${n}/${$s(i)}/`;a+=`
            <khao-chip href="${o}" rel="tag"><span>${_s(i)}</span></khao-chip>
             `}),t=`<div class="summary-tags"><div class="tag-list">
                    ${a}
                  </div></div>`}return t},Ls=(e,t,s,n)=>{const r=n&&n.toLowerCase()==="ins"&&(e.indexOf("blogs")>-1||e.indexOf("videos")>-1||e.indexOf("gruppen"))?"default":"elevated";return`
        <a class="list-thumbnail-link" href="${e}" style="min-width:350px; min-height: 262px;">
            <khao-image
                src="${t}"
                lazyloading="true"
                title="${s}"
                webp="true"
                type="${r}"
                class="list-thumbnail"
                width="350px"
                height="260px"
            />
        </a>`},Rs=(e,t)=>{let s="";if(e){const n=e.image?t+e.image:"/img/not-found.png",r=Ls(e.url||"",n,e.title,e.region),a=Ss(e.title,e.url||"",e.author,e.date,e.category,e.thaiName,e.region),i=bs(e.summary),o=Is(e.tags),c=qe(a,i,o);s=Ze(r,c)}return s};function F(e){return Array.isArray?Array.isArray(e):ct(e)==="[object Array]"}function vs(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function js(e){return e==null?"":vs(e)}function M(e){return typeof e=="string"}function it(e){return typeof e=="number"}function Os(e){return e===!0||e===!1||Ns(e)&&ct(e)=="[object Boolean]"}function ot(e){return typeof e=="object"}function Ns(e){return ot(e)&&e!==null}function A(e){return e!=null}function K(e){return!e.trim().length}function ct(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ts="Incorrect 'index' type",zs=e=>`Invalid value for key ${e}`,Ps=e=>`Pattern length exceeds max of ${e}.`,Ks=e=>`Missing ${e} property in key`,Ws=e=>`Property 'weight' in key '${e}' must be a positive integer`,tt=Object.prototype.hasOwnProperty;class Hs{constructor(t){this._keys=[],this._keyMap={};let s=0;t.forEach(n=>{let r=ut(n);this._keys.push(r),this._keyMap[r.id]=r,s+=r.weight}),this._keys.forEach(n=>{n.weight/=s})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ut(e){let t=null,s=null,n=null,r=1,a=null;if(M(e)||F(e))n=e,t=et(e),s=W(e);else{if(!tt.call(e,"name"))throw new Error(Ks("name"));const i=e.name;if(n=i,tt.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(Ws(i));t=et(i),s=W(i),a=e.getFn}return{path:t,id:s,weight:r,src:n,getFn:a}}function et(e){return F(e)?e:e.split(".")}function W(e){return F(e)?e.join("."):e}function Us(e,t){let s=[],n=!1;const r=(a,i,o)=>{if(A(a))if(!i[o])s.push(a);else{let c=i[o];const u=a[c];if(!A(u))return;if(o===i.length-1&&(M(u)||it(u)||Os(u)))s.push(js(u));else if(F(u)){n=!0;for(let l=0,d=u.length;l<d;l+=1)r(u[l],i,o+1)}else i.length&&r(u,i,o+1)}};return r(e,M(t)?t.split("."):t,0),n?s:s[0]}const Qs={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Gs={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Ys={location:0,threshold:.6,distance:100},Js={useExtendedSearch:!1,getFn:Us,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var h={...Gs,...Qs,...Ys,...Js};const Vs=/[^ ]+/g;function Xs(e=1,t=3){const s=new Map,n=Math.pow(10,t);return{get(r){const a=r.match(Vs).length;if(s.has(a))return s.get(a);const i=1/Math.pow(a,.5*e),o=parseFloat(Math.round(i*n)/n);return s.set(a,o),o},clear(){s.clear()}}}class X{constructor({getFn:t=h.getFn,fieldNormWeight:s=h.fieldNormWeight}={}){this.norm=Xs(s,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((s,n)=>{this._keysMap[s.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,M(this.docs[0])?this.docs.forEach((t,s)=>{this._addString(t,s)}):this.docs.forEach((t,s)=>{this._addObject(t,s)}),this.norm.clear())}add(t){const s=this.size();M(t)?this._addString(t,s):this._addObject(t,s)}removeAt(t){this.records.splice(t,1);for(let s=t,n=this.size();s<n;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(t,s){return t[this._keysMap[s]]}size(){return this.records.length}_addString(t,s){if(!A(t)||K(t))return;let n={v:t,i:s,n:this.norm.get(t)};this.records.push(n)}_addObject(t,s){let n={i:s,$:{}};this.keys.forEach((r,a)=>{let i=r.getFn?r.getFn(t):this.getFn(t,r.path);if(A(i)){if(F(i)){let o=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:u,value:l}=c.pop();if(A(l))if(M(l)&&!K(l)){let d={v:l,i:u,n:this.norm.get(l)};o.push(d)}else F(l)&&l.forEach((d,g)=>{c.push({nestedArrIndex:g,value:d})})}n.$[a]=o}else if(M(i)&&!K(i)){let o={v:i,n:this.norm.get(i)};n.$[a]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function lt(e,t,{getFn:s=h.getFn,fieldNormWeight:n=h.fieldNormWeight}={}){const r=new X({getFn:s,fieldNormWeight:n});return r.setKeys(e.map(ut)),r.setSources(t),r.create(),r}function Zs(e,{getFn:t=h.getFn,fieldNormWeight:s=h.fieldNormWeight}={}){const{keys:n,records:r}=e,a=new X({getFn:t,fieldNormWeight:s});return a.setKeys(n),a.setIndexRecords(r),a}function O(e,{errors:t=0,currentLocation:s=0,expectedLocation:n=0,distance:r=h.distance,ignoreLocation:a=h.ignoreLocation}={}){const i=t/e.length;if(a)return i;const o=Math.abs(n-s);return r?i+o/r:o?1:i}function qs(e=[],t=h.minMatchCharLength){let s=[],n=-1,r=-1,a=0;for(let i=e.length;a<i;a+=1){let o=e[a];o&&n===-1?n=a:!o&&n!==-1&&(r=a-1,r-n+1>=t&&s.push([n,r]),n=-1)}return e[a-1]&&a-n>=t&&s.push([n,a-1]),s}const _=32;function tn(e,t,s,{location:n=h.location,distance:r=h.distance,threshold:a=h.threshold,findAllMatches:i=h.findAllMatches,minMatchCharLength:o=h.minMatchCharLength,includeMatches:c=h.includeMatches,ignoreLocation:u=h.ignoreLocation}={}){if(t.length>_)throw new Error(Ps(_));const l=t.length,d=e.length,g=Math.max(0,Math.min(n,d));let f=a,p=g;const m=o>1||c,k=m?Array(d):[];let D;for(;(D=e.indexOf(t,p))>-1;){let y=O(t,{currentLocation:D,expectedLocation:g,distance:r,ignoreLocation:u});if(f=Math.min(y,f),p=D+l,m){let B=0;for(;B<l;)k[D+B]=1,B+=1}}p=-1;let w=[],I=1,b=l+d;const mt=1<<l-1;for(let y=0;y<l;y+=1){let B=0,x=b;for(;B<x;)O(t,{errors:y,currentLocation:g+x,expectedLocation:g,distance:r,ignoreLocation:u})<=f?B=x:b=x,x=Math.floor((b-B)/2+B);b=x;let Z=Math.max(1,g-x+1),P=i?d:Math.min(g+x,d)+l,L=Array(P+2);L[P+1]=(1<<y)-1;for(let E=P;E>=Z;E-=1){let j=E-1,q=s[e.charAt(j)];if(m&&(k[j]=+!!q),L[E]=(L[E+1]<<1|1)&q,y&&(L[E]|=(w[E+1]|w[E])<<1|1|w[E+1]),L[E]&mt&&(I=O(t,{errors:y,currentLocation:j,expectedLocation:g,distance:r,ignoreLocation:u}),I<=f)){if(f=I,p=j,p<=g)break;Z=Math.max(1,2*g-p)}}if(O(t,{errors:y+1,currentLocation:g,expectedLocation:g,distance:r,ignoreLocation:u})>f)break;w=L}const z={isMatch:p>=0,score:Math.max(.001,I)};if(m){const y=qs(k,o);y.length?c&&(z.indices=y):z.isMatch=!1}return z}function en(e){let t={};for(let s=0,n=e.length;s<n;s+=1){const r=e.charAt(s);t[r]=(t[r]||0)|1<<n-s-1}return t}const N=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class ht{constructor(t,{location:s=h.location,threshold:n=h.threshold,distance:r=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:o=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:u=h.ignoreDiacritics,ignoreLocation:l=h.ignoreLocation}={}){if(this.options={location:s,threshold:n,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:l},t=c?t:t.toLowerCase(),t=u?N(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const d=(f,p)=>{this.chunks.push({pattern:f,alphabet:en(f),startIndex:p})},g=this.pattern.length;if(g>_){let f=0;const p=g%_,m=g-p;for(;f<m;)d(this.pattern.substr(f,_),f),f+=_;if(p){const k=g-_;d(this.pattern.substr(k),k)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:s,ignoreDiacritics:n,includeMatches:r}=this.options;if(t=s?t:t.toLowerCase(),t=n?N(t):t,this.pattern===t){let m={isMatch:!0,score:0};return r&&(m.indices=[[0,t.length-1]]),m}const{location:a,distance:i,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:l}=this.options;let d=[],g=0,f=!1;this.chunks.forEach(({pattern:m,alphabet:k,startIndex:D})=>{const{isMatch:w,score:I,indices:b}=tn(t,m,k,{location:a+D,distance:i,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:l});w&&(f=!0),g+=I,w&&b&&(d=[...d,...b])});let p={isMatch:f,score:f?g/this.chunks.length:1};return f&&r&&(p.indices=d),p}}class S{constructor(t){this.pattern=t}static isMultiMatch(t){return st(t,this.multiRegex)}static isSingleMatch(t){return st(t,this.singleRegex)}search(){}}function st(e,t){const s=e.match(t);return s?s[1]:null}class sn extends S{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const s=t===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class nn extends S{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class rn extends S{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const s=t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class an extends S{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const s=!t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class on extends S{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const s=t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class cn extends S{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const s=!t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class dt extends S{constructor(t,{location:s=h.location,threshold:n=h.threshold,distance:r=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:o=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreDiacritics:u=h.ignoreDiacritics,ignoreLocation:l=h.ignoreLocation}={}){super(t),this._bitapSearch=new ht(t,{location:s,threshold:n,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class gt extends S{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let s=0,n;const r=[],a=this.pattern.length;for(;(n=t.indexOf(this.pattern,s))>-1;)s=n+a,r.push([n,s-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const H=[sn,gt,rn,an,cn,on,nn,dt],nt=H.length,un=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ln="|";function hn(e,t={}){return e.split(ln).map(s=>{let n=s.trim().split(un).filter(a=>a&&!!a.trim()),r=[];for(let a=0,i=n.length;a<i;a+=1){const o=n[a];let c=!1,u=-1;for(;!c&&++u<nt;){const l=H[u];let d=l.isMultiMatch(o);d&&(r.push(new l(d,t)),c=!0)}if(!c)for(u=-1;++u<nt;){const l=H[u];let d=l.isSingleMatch(o);if(d){r.push(new l(d,t));break}}}return r})}const dn=new Set([dt.type,gt.type]);class gn{constructor(t,{isCaseSensitive:s=h.isCaseSensitive,ignoreDiacritics:n=h.ignoreDiacritics,includeMatches:r=h.includeMatches,minMatchCharLength:a=h.minMatchCharLength,ignoreLocation:i=h.ignoreLocation,findAllMatches:o=h.findAllMatches,location:c=h.location,threshold:u=h.threshold,distance:l=h.distance}={}){this.query=null,this.options={isCaseSensitive:s,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:a,findAllMatches:o,ignoreLocation:i,location:c,threshold:u,distance:l},t=s?t:t.toLowerCase(),t=n?N(t):t,this.pattern=t,this.query=hn(this.pattern,this.options)}static condition(t,s){return s.useExtendedSearch}searchIn(t){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:a}=this.options;t=r?t:t.toLowerCase(),t=a?N(t):t;let i=0,o=[],c=0;for(let u=0,l=s.length;u<l;u+=1){const d=s[u];o.length=0,i=0;for(let g=0,f=d.length;g<f;g+=1){const p=d[g],{isMatch:m,indices:k,score:D}=p.search(t);if(m){if(i+=1,c+=D,n){const w=p.constructor.type;dn.has(w)?o=[...o,...k]:o.push(k)}}else{c=0,i=0,o.length=0;break}}if(i){let g={isMatch:!0,score:c/i};return n&&(g.indices=o),g}}return{isMatch:!1,score:1}}}const U=[];function fn(...e){U.push(...e)}function Q(e,t){for(let s=0,n=U.length;s<n;s+=1){let r=U[s];if(r.condition(e,t))return new r(e,t)}return new ht(e,t)}const T={AND:"$and",OR:"$or"},G={PATH:"$path",PATTERN:"$val"},Y=e=>!!(e[T.AND]||e[T.OR]),pn=e=>!!e[G.PATH],mn=e=>!F(e)&&ot(e)&&!Y(e),rt=e=>({[T.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ft(e,t,{auto:s=!0}={}){const n=r=>{let a=Object.keys(r);const i=pn(r);if(!i&&a.length>1&&!Y(r))return n(rt(r));if(mn(r)){const c=i?r[G.PATH]:a[0],u=i?r[G.PATTERN]:r[c];if(!M(u))throw new Error(zs(c));const l={keyId:W(c),pattern:u};return s&&(l.searcher=Q(u,t)),l}let o={children:[],operator:a[0]};return a.forEach(c=>{const u=r[c];F(u)&&u.forEach(l=>{o.children.push(n(l))})}),o};return Y(e)||(e=rt(e)),n(e)}function An(e,{ignoreFieldNorm:t=h.ignoreFieldNorm}){e.forEach(s=>{let n=1;s.matches.forEach(({key:r,norm:a,score:i})=>{const o=r?r.weight:null;n*=Math.pow(i===0&&o?Number.EPSILON:i,(o||1)*(t?1:a))}),s.score=n})}function yn(e,t){const s=e.matches;t.matches=[],A(s)&&s.forEach(n=>{if(!A(n.indices)||!n.indices.length)return;const{indices:r,value:a}=n;let i={indices:r,value:a};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),t.matches.push(i)})}function kn(e,t){t.score=e.score}function En(e,t,{includeMatches:s=h.includeMatches,includeScore:n=h.includeScore}={}){const r=[];return s&&r.push(yn),n&&r.push(kn),e.map(a=>{const{idx:i}=a,o={item:t[i],refIndex:i};return r.length&&r.forEach(c=>{c(a,o)}),o})}class v{constructor(t,s={},n){this.options={...h,...s},this.options.useExtendedSearch,this._keyStore=new Hs(this.options.keys),this.setCollection(t,n)}setCollection(t,s){if(this._docs=t,s&&!(s instanceof X))throw new Error(Ts);this._myIndex=s||lt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){A(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const s=[];for(let n=0,r=this._docs.length;n<r;n+=1){const a=this._docs[n];t(a,n)&&(this.removeAt(n),n-=1,r-=1,s.push(a))}return s}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:i,ignoreFieldNorm:o}=this.options;let c=M(t)?M(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return An(c,{ignoreFieldNorm:o}),a&&c.sort(i),it(s)&&s>-1&&(c=c.slice(0,s)),En(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const s=Q(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:a,i,n:o})=>{if(!A(a))return;const{isMatch:c,score:u,indices:l}=s.searchIn(a);c&&r.push({item:a,idx:i,matches:[{score:u,value:a,norm:o,indices:l}]})}),r}_searchLogical(t){const s=ft(t,this.options),n=(o,c,u)=>{if(!o.children){const{keyId:d,searcher:g}=o,f=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:g});return f&&f.length?[{idx:u,item:c,matches:f}]:[]}const l=[];for(let d=0,g=o.children.length;d<g;d+=1){const f=o.children[d],p=n(f,c,u);if(p.length)l.push(...p);else if(o.operator===T.AND)return[]}return l},r=this._myIndex.records,a={},i=[];return r.forEach(({$:o,i:c})=>{if(A(o)){let u=n(s,o,c);u.length&&(a[c]||(a[c]={idx:c,item:o,matches:[]},i.push(a[c])),u.forEach(({matches:l})=>{a[c].matches.push(...l)}))}}),i}_searchObjectList(t){const s=Q(t,this.options),{keys:n,records:r}=this._myIndex,a=[];return r.forEach(({$:i,i:o})=>{if(!A(i))return;let c=[];n.forEach((u,l)=>{c.push(...this._findMatches({key:u,value:i[l],searcher:s}))}),c.length&&a.push({idx:o,item:i,matches:c})}),a}_findMatches({key:t,value:s,searcher:n}){if(!A(s))return[];let r=[];if(F(s))s.forEach(({v:a,i,n:o})=>{if(!A(a))return;const{isMatch:c,score:u,indices:l}=n.searchIn(a);c&&r.push({score:u,key:t,value:a,idx:i,norm:o,indices:l})});else{const{v:a,n:i}=s,{isMatch:o,score:c,indices:u}=n.searchIn(a);o&&r.push({score:c,key:t,value:a,norm:i,indices:u})}return r}}v.version="7.1.0";v.createIndex=lt;v.parseIndex=Zs;v.config=h;v.parseQuery=ft;fn(gn);const Cn=()=>{let e=[];const t=$().additionalSearchKeys||"";return t.indexOf(",")>0?e=t.split(","):e.push(t),console.log("additionalSearchKeys:",e),e},pt=[];let C,R;const Mn=parseInt($().maxResults||"20",10),wn=e=>{let t=0;if(e.length>0){R.innerHTML="";let s="";e.forEach(n=>{t++<Mn&&(s+=Rs(n,$().imgBaseUrl||""))}),R.innerHTML=s}t===0&&(R.innerHTML=V($().noResultsText||"",!0))},Fn=()=>{const e=window.location.search;if(e&&URLSearchParams!==void 0){const t=new URLSearchParams(e);if(t.has("q")){const s=t.get("q");C.value=s||""}}},Dn=()=>{C.disabled=!1,C.focus(),C.placeholder=$().searchPlaceholderText||"",C.classList.add("js-ready-to-search"),C.addEventListener("khao-text-field-keyup",e=>{const s=e.detail.value;at(s)}),Fn(),C.value!==""&&at(C.value)},at=e=>{if(console.log(e),e!==""&&e.length>2){const t=Je(e,Ye).toLocaleLowerCase(),s=Cn();console.log("additionalSearchKeys:",s);const a=new v(pt,{keys:[{name:"title",weight:3},"summary"].concat(s),threshold:.2,ignoreLocation:!0,shouldSort:!0}).search(t).map(i=>i.item);wn(a)}else R.innerHTML=V($().searchQueryToShortText||"",!0)},Bn=e=>{Xe()&&e.classList.add("has-focus")},xn=()=>{C=document.getElementById("search-input"),R=document.getElementById("search-results"),C&&Bn(C);const e=`${$().searchIndexUrl}?d=${Ve()}`;fetch(e,{method:"get"}).then(t=>t.json()).then(t=>{t.forEach(s=>{const n={author:s.a,category:s.c,date:s.d,image:s.i,region:s.r,summary:s.s,tags:s.ts,thaiName:s.th,title:s.t,url:s.u};pt.push(n)}),Dn()}).catch(t=>{R.innerHTML=V(t,!0)})};window.addEventListener("DOMContentLoaded",()=>{xn()});
