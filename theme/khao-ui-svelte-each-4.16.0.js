import{e as A,g as Z,x as ee,h as ne,i as re,l as te,$ as Q,y as ae,m as le,a as X,n as se,o as w,p as F,u as W,E as fe,v as R,A as D,C as ie,F as ue,S as z,T as G,Y as B,_ as J,a0 as oe,a1 as M,a2 as ve,a3 as pe,a4 as xe,a5 as de,a6 as ce,a7 as K,a8 as O,a9 as ge,aa as he}from"./khao-ui-svelte-dispatchRemoteControlEvent-4.16.0.js";function Ne(a,e){return e}function me(a,e,n,i){for(var o=[],v=e.length,u=0;u<v;u++)ve(e[u].e,o,!0);var c=v>0&&o.length===0&&n!==null;if(c){var m=n.parentNode;pe(m),m.append(n),i.clear(),C(a,e[0].prev,e[v-1].next)}xe(o,()=>{for(var y=0;y<v;y++){var p=e[y];c||(i.delete(p.k),C(a,p.prev,p.next)),de(p.e,!c)}})}function Ce(a,e,n,i,o,v=null){var u=a,c={flags:e,items:new Map,first:null},m=(e&O)!==0;if(m){var y=a;u=Z?A(ee(y)):y.appendChild(ne())}Z&&re();var p=null,k=!1,E=te(()=>{var x=n();return ae(x)?x:x==null?[]:Q(x)});le(()=>{var x=X(E),l=x.length;if(k&&l===0)return;k=l===0;let T=!1;if(Z){var t=u.data===se;t!==(l===0)&&(u=w(),A(u),F(!1),T=!0)}if(Z){for(var g=null,f,h=0;h<l;h++){if(W.nodeType===8&&W.data===fe){u=W,T=!0,F(!1);break}var d=x[h],$=i(d,h);f=H(W,c,g,null,d,$,h,o,e,n),c.items.set($,f),g=f}l>0&&A(w())}Z||ye(x,c,u,o,e,i,n),v!==null&&(l===0?p?R(p):p=D(()=>v(u)):p!==null&&ie(p,()=>{p=null})),T&&F(!0),X(E)}),Z&&(u=W)}function ye(a,e,n,i,o,v,u){var c,m,y,p,k=(o&ge)!==0,E=(o&(J|M))!==0,x=a.length,l=e.items,T=e.first,t=T,g,f=null,h,d=[],$=[],L,b,r,s;if(k)for(s=0;s<x;s+=1)L=a[s],b=v(L,s),r=l.get(b),r!==void 0&&((c=r.a)==null||c.measure(),(h??(h=new Set)).add(r));for(s=0;s<x;s+=1){if(L=a[s],b=v(L,s),r=l.get(b),r===void 0){var _=t?t.e.nodes_start:n;f=H(_,e,f,f===null?e.first:f.next,L,b,s,i,o,u),l.set(b,f),d=[],$=[],t=f.next;continue}if(E&&$e(r,L,s,o),(r.e.f&G)!==0&&(R(r.e),k&&((m=r.a)==null||m.unfix(),(h??(h=new Set)).delete(r))),r!==t){if(g!==void 0&&g.has(r)){if(d.length<$.length){var Y=$[0],N;f=Y.prev;var S=d[0],j=d[d.length-1];for(N=0;N<d.length;N+=1)P(d[N],Y,n);for(N=0;N<$.length;N+=1)g.delete($[N]);C(e,S.prev,j.next),C(e,f,S),C(e,j,Y),t=Y,f=j,s-=1,d=[],$=[]}else g.delete(r),P(r,t,n),C(e,r.prev,r.next),C(e,r,f===null?e.first:f.next),C(e,f,r),f=r;continue}for(d=[],$=[];t!==null&&t.k!==b;)(t.e.f&G)===0&&(g??(g=new Set)).add(t),$.push(t),t=t.next;if(t===null)continue;r=t}d.push(r),f=r,t=r.next}if(t!==null||g!==void 0){for(var V=g===void 0?[]:Q(g);t!==null;)(t.e.f&G)===0&&V.push(t),t=t.next;var q=V.length;if(q>0){var I=(o&O)!==0&&x===0?n:null;if(k){for(s=0;s<q;s+=1)(y=V[s].a)==null||y.measure();for(s=0;s<q;s+=1)(p=V[s].a)==null||p.fix()}me(e,V,I,l)}}k&&ce(()=>{var U;if(h!==void 0)for(r of h)(U=r.a)==null||U.apply()}),B.first=e.first&&e.first.e,B.last=f&&f.e}function $e(a,e,n,i){(i&J)!==0&&K(a.v,e),(i&M)!==0?K(a.i,n):a.i=n}function H(a,e,n,i,o,v,u,c,m,y){var p=(m&J)!==0,k=(m&oe)===0,E=p?k?ue(o):z(o):o,x=(m&M)===0?u:z(u),l={i:x,v:E,k:v,a:null,e:null,prev:n,next:i};try{return l.e=D(()=>c(a,E,x,y),Z),l.e.prev=n&&n.e,l.e.next=i&&i.e,n===null?e.first=l:(n.next=l,n.e.next=l.e),i!==null&&(i.prev=l,i.e.prev=l.e),l}finally{}}function P(a,e,n){for(var i=a.next?a.next.e.nodes_start:n,o=e?e.e.nodes_start:n,v=a.e.nodes_start;v!==i;){var u=he(v);o.before(v),v=u}}function C(a,e,n){e===null?a.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}export{Ce as C,Ne as m};
