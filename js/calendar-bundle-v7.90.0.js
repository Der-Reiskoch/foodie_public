(()=>{var j=(e,t,n)=>{let o={value:t,label:n};e.push(o)},I=j;var S=(e,t)=>{let n="";return e.includes(t)?e.split(t).forEach((i,r)=>{let s=r>0?t:"";n+=s+S(i,t)}):n=e.charAt(0).toUpperCase()+e.slice(1),n},E=S;var k=e=>{let t=e;return t=E(t," "),t=E(t,"-"),t=t.replace(" Am "," am "),t=t.replace(" Bei "," bei "),t=t.replace(" Ob Der "," ob der "),t.trim(),t},x=k;var J=(e,t,n)=>{let o="";for(let i=0;i<e.length;i++)n?e[i].label===t&&(o=e[i].value):e[i].label.toLowerCase()===t.toLowerCase()&&(o=e[i].value);return o},N=J;var w=(e,t)=>{let n=[];for(let o=0;o<e.length;o++){let i=e[o].value;t.includes(i)&&n.push(e[o])}return n},f=w;var l=[],V=(e,t)=>{let n=l.findIndex(o=>o.key===e);n!==-1?l[n].value=t:l.push({key:e,value:t})},_=e=>{l.reduce,l.splice(l.findIndex(t=>t.key===e),1)},m=(e,t,n,o)=>{t&&t.addEventListener("khao-select-field-change",i=>{let s=i.detail.value;s!=n?V(e,s):_(e),o()})};var a="-1",u,g,y,h,b,v=[],F=[],T=[],B=[],O,d=()=>{O.forEach(e=>{let t=e.getAttribute("data-month"),n=e.getAttribute("data-city"),o=e.getAttribute("data-country"),i=e.getAttribute("data-region");e.classList.remove("calendar-item--no-match"),l.forEach(r=>{let s=!0;r.key==="month"&&t!==r.value&&(s=!1),r.key==="country"&&o!==r.value&&(s=!1),r.key==="city"&&n!==r.value&&(s=!1),r.key==="region"&&i!==r.value&&(s=!1),s||e.classList.add("calendar-item--no-match")})}),D()},D=()=>{let e=document.querySelectorAll(".calendar-item--no-match"),t=O.length,n=e.length,o=t-n;b=document.getElementById("js-display-number-of-matches"),b&&(b.innerHTML=`${o}`)},q=()=>{let e=JSON.parse(document.getElementById("js-filter-month-values").textContent),t=JSON.parse(document.getElementById("js-filter-country-values").textContent),n=JSON.parse(document.getElementById("js-filter-city-values").textContent),o=JSON.parse(document.getElementById("js-filter-region-values").textContent),i=[],r=[],s=[],p=[];O=document.querySelectorAll(".calendar-item"),O.forEach(c=>{let L=c.getAttribute("data-month");i.includes(L)||i.push(L);let A=c.getAttribute("data-country");s.includes(A)||s.push(A);let M=c.getAttribute("data-city");r.includes(M)||r.push(M);let C=c.getAttribute("data-region");p.includes(C)||p.push(C)}),u=document.getElementById("js-select-month"),u&&(i.push(a),v=f(e,i),u.setAttribute("options",JSON.stringify(v)),m("month",u,a,d)),y=document.getElementById("js-select-country"),y&&(s.push(a),T=f(t,s),y.setAttribute("options",JSON.stringify(T)),m("country",y,a,d)),g=document.getElementById("js-select-city"),g&&(F=n,r.sort().forEach(c=>{I(F,c,x(c))}),g.setAttribute("options",JSON.stringify(F)),m("city",g,a,d)),h=document.getElementById("js-select-region"),h&&(p.push(a),B=f(o,p),h.setAttribute("options",JSON.stringify(B)),m("region",h,a,d))},z=()=>{if(window.location.hash){let e=window.location.hash.replace("#","");if(console.log("monthString",e),e){let t=N(v,e,!1);if(t){u=document.getElementById("js-select-month"),u.setAttribute("selectedValue",t);let n="khao-select-field-change",o=new CustomEvent(n,{detail:{value:t},bubbles:!0,composed:!0});u.dispatchEvent(o)}}}},H=()=>{q(),z(),d()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{H()}):H();})();
